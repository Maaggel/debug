/*
 * Inspire Me Debug.js
 *
 * Copyright 2016 Inspire Me. (http://inspireme.dk)
 * Dual licensed under the MIT or GPL licenses.
 * http://inspireme.dk/open-source-licenses
 *
 * http://inspireme.dk
 *
 */
function watch(e,n,t){return"undefined"==typeof n&&(n=""),"undefined"==typeof e?!1:("undefined"==typeof t&&(t=!1),$debug.init(),void $debug.addListener(e,n,t))}function unWatch(e){"undefined"!=typeof e&&($debug.init(),$debug.unWatch(e))}var $debug={interval:!1,listeners:[],debugWindow:!1,prefix:"js_debug",settings:{interval:100,typeColors:{array:"#B88700",object:"#B84500",string:"#56b02e",number:"#89bdff",bool:"#AC00C6","null":"#7A7A7A",unknown:"#FFF"}},addListener:function(e,n,t){$debug.listeners.push({namespace:!1,object:e,savedValue:!1,name:n,modify:t,collapsed:!1})},digest:function(){$debug.listeners.forEach(function(e){if(debugWindow){if(!e.namespace){var n=document.createElement("div");n.setAttribute("class","namespace");var t=e.name.replace(/\W+/g,"");parseInt($debug.getCookie(t+"_collapsed"))&&(n.className+=" collapsed"),n.setAttribute("data-debugid",t),debugWindow.appendChild(n),e.namespace=n}var a=JSON.stringify(e.object,function(e,n){return"function"==typeof n?""+n:n}),o=$debug.md5(a);e.savedValue!=o&&($debug.setNamespace(e),e.savedValue=o)}})},unWatch:function(e){Object.keys($debug.listeners).forEach(function(n){var t=$debug.listeners[n];e==t.object&&(delete $debug.listeners[n],t.namespace.parentNode.removeChild(t.namespace))})},setNamespace:function(e){e.namespace.innerHTML='<span class="name">'+(""==e.name?"("+(Array.isArray(e.object)?"array":typeof e.object)+")":e.name)+(e.modify?'<span class="nameLabel">(editable)</span>':"")+'<div class="collapse" onclick="$debug.collapse(this);"></div></span>';var n='<div class="content">';switch(Array.isArray(e.object)?"array":typeof e.object){case"function":n+="Cannot track functions";break;case"object":case"array":n+=$debug.getObjectChildren(e.object,e.modify);break;default:n+="Can only track objects and arrays directly"}e.namespace.innerHTML+=n+"</div>"},collapse:function(e){var n=e.parentElement.parentElement;n.classList.toggle("collapsed");var t=n.dataset.debugid;""!=n.dataset.debugid&&$debug.setCookie(t+"_collapsed",n.classList.contains("collapsed")?1:0)},getObjectChildren:function(e,n,t){"undefined"==typeof t&&(t=0);var a='<ul class="level-'+t+'">';return Object.keys(e).forEach(function(o){var r=e[o];a+=null===r?"<li>"+o+': <span class="value" style="color: '+$debug.c("null")+';">null</span></li>':"function"==typeof r?'<li><span style="color: '+$debug.c("function")+';">function</span></li>':Array.isArray(r)?"<li>"+o+': <span style="color: '+$debug.c("array")+';">(array)</span>'+$debug.getObjectChildren(r,n,t+1)+"</li>":"object"==typeof r?"<li>"+o+': <span style="color: '+$debug.c("object")+';">(object)</span>'+$debug.getObjectChildren(r,n,t+1)+"</li>":"number"==typeof r?"<li>"+o+': <span style="color: '+$debug.c("number")+';">'+(n?'<input type="text" value="'+r+'" />':r)+"</span></li>":"string"==typeof r?"<li>"+o+': <span style="color: '+$debug.c("string")+';">'+(n?'<input type="text" value="'+r+'" />':r)+"</span></li>":"boolean"==typeof r?"<li>"+o+': <span style="color: '+$debug.c("bool")+';">'+(r?"true":"false")+"</span></li>":'<li style="color: '+$debug.c("unknown")+';">'+o+': <span class="value">unknown type ('+typeof r+")</span></li>"}),a+="</ul>"},init:function(){if(debugWindow=document.querySelector(".debugWindow"),!debugWindow){debugWindow=document.createElement("div"),debugWindow.setAttribute("class","debugWindow"),document.body.appendChild(debugWindow);var e=document.createElement("style");e.setAttribute("type","text/css"),$debug.addStyling(e,".debugWindow","position: fixed; top: 0px; right: 0px; z-index: 10000;"),$debug.addStyling(e,".debugWindow .namespace","position: relative; background-color: #222; color: #FFF; font-size: 11px; font-family: Courier; box-sizing: border-box; min-width: 215px; max-width: 280px; margin: 5px; border-radius: 4px; -webkit-box-shadow: 0px 1px 1px 0px rgba(0,0,0,0.3); -moz-box-shadow: 0px 1px 1px 0px rgba(0,0,0,0.3); box-shadow: 0px 1px 1px 0px rgba(0,0,0,0.3);"),$debug.addStyling(e,".debugWindow .namespace .name","display: block; padding: 5px 21px 5px 5px; border-bottom: 1px solid #444; background-color: #000; border-radius: 5px 5px 0 0;"),$debug.addStyling(e,".debugWindow .namespace .name .nameLabel","color: #ACACAC;"),$debug.addStyling(e,".debugWindow .namespace .name .collapse","cursor: pointer; right: 7px; top: 9.5px; opacity: .4; position: absolute; width: 0; height: 0; border-style: solid; border-width: 7px 5px 0 5px; border-color: #ffffff transparent transparent transparent;"),$debug.addStyling(e,".debugWindow .namespace.collapsed .name","border-radius: 5px; border-bottom: 0;"),$debug.addStyling(e,".debugWindow .namespace.collapsed .name .collapse","top: 9px; border-width: 0 5px 7px 5px; border-color: transparent transparent #ffffff transparent;"),$debug.addStyling(e,".debugWindow .namespace .name .collapse:hover","opacity: 1;"),$debug.addStyling(e,".debugWindow .namespace .content","padding: 5px;"),$debug.addStyling(e,".debugWindow .namespace .content input[type='text']","outline: 0; border: 0; background-color: transparent; color: inherit; font-size: inherit; font-family: inherit;"),$debug.addStyling(e,".debugWindow .namespace .content input[type='text']:focus","background-color: #3A3827;"),$debug.addStyling(e,".debugWindow .namespace.collapsed .content","display: none;"),$debug.addStyling(e,".debugWindow .namespace ul, .debugWindow .namespace ul li","list-style: none; margin: 0; padding: 0;"),$debug.addStyling(e,".debugWindow .namespace ul:not(.level-0)","padding-left: 10px!important;"),$debug.addStyling(e,".debugWindow .namespace ul li","list-style: none; margin: 0; padding: 0;"),document.head.appendChild(e)}$debug.interval||(interval=setInterval(function(){$debug.digest()},$debug.settings.interval))},addStyling:function(e,n,t){e.appendChild(document.createTextNode(n+"{"+t+"}"))},simpleStringify:function(e){var n={};for(var t in e)e.hasOwnProperty(t)&&"object"!=typeof e[t]&&"function"!=typeof e[t]&&(n[t]=e[t]);return JSON.stringify(n)},setCookie:function(e,n,t){var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3);var o="expires="+a.toUTCString();document.cookie=$debug.settings.prefix+e+"="+n+";"+o+";path=/"},getCookie:function(e){for(var n=$debug.settings.prefix+e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var o=t[a];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(n))return o.substring(n.length,o.length)}return""},c:function(e){return $debug.settings.typeColors[e]},md5:function(e){function n(e,n){return e<<n|e>>>32-n}function t(e,n){var t,a,o,r,i;return o=2147483648&e,r=2147483648&n,t=1073741824&e,a=1073741824&n,i=(1073741823&e)+(1073741823&n),t&a?2147483648^i^o^r:t|a?1073741824&i?3221225472^i^o^r:1073741824^i^o^r:i^o^r}function a(e,n,t){return e&n|~e&t}function o(e,n,t){return e&t|n&~t}function r(e,n,t){return e^n^t}function i(e,n,t){return n^(e|~t)}function d(e,o,r,i,d,s,u){return e=t(e,t(t(a(o,r,i),d),u)),t(n(e,s),o)}function s(e,a,r,i,d,s,u){return e=t(e,t(t(o(a,r,i),d),u)),t(n(e,s),a)}function u(e,a,o,i,d,s,u){return e=t(e,t(t(r(a,o,i),d),u)),t(n(e,s),a)}function l(e,a,o,r,d,s,u){return e=t(e,t(t(i(a,o,r),d),u)),t(n(e,s),a)}function c(e){for(var n,t=e.length,a=t+8,o=(a-a%64)/64,r=16*(o+1),i=Array(r-1),d=0,s=0;t>s;)n=(s-s%4)/4,d=s%4*8,i[n]=i[n]|e.charCodeAt(s)<<d,s++;return n=(s-s%4)/4,d=s%4*8,i[n]=i[n]|128<<d,i[r-2]=t<<3,i[r-1]=t>>>29,i}function p(e){var n,t,a="",o="";for(t=0;3>=t;t++)n=e>>>8*t&255,o="0"+n.toString(16),a+=o.substr(o.length-2,2);return a}function g(e){e=e.replace(/rn/g,"n");for(var n="",t=0;t<e.length;t++){var a=e.charCodeAt(t);128>a?n+=String.fromCharCode(a):a>127&&2048>a?(n+=String.fromCharCode(a>>6|192),n+=String.fromCharCode(63&a|128)):(n+=String.fromCharCode(a>>12|224),n+=String.fromCharCode(a>>6&63|128),n+=String.fromCharCode(63&a|128))}return n}var b,f,y,m,x,h,v,$,w,C=Array(),W=7,S=12,A=17,j=22,k=5,O=9,L=14,E=20,N=4,F=11,T=16,z=23,V=6,_=10,B=15,H=21;for(e=g(e),C=c(e),h=1732584193,v=4023233417,$=2562383102,w=271733878,b=0;b<C.length;b+=16)f=h,y=v,m=$,x=w,h=d(h,v,$,w,C[b+0],W,3614090360),w=d(w,h,v,$,C[b+1],S,3905402710),$=d($,w,h,v,C[b+2],A,606105819),v=d(v,$,w,h,C[b+3],j,3250441966),h=d(h,v,$,w,C[b+4],W,4118548399),w=d(w,h,v,$,C[b+5],S,1200080426),$=d($,w,h,v,C[b+6],A,2821735955),v=d(v,$,w,h,C[b+7],j,4249261313),h=d(h,v,$,w,C[b+8],W,1770035416),w=d(w,h,v,$,C[b+9],S,2336552879),$=d($,w,h,v,C[b+10],A,4294925233),v=d(v,$,w,h,C[b+11],j,2304563134),h=d(h,v,$,w,C[b+12],W,1804603682),w=d(w,h,v,$,C[b+13],S,4254626195),$=d($,w,h,v,C[b+14],A,2792965006),v=d(v,$,w,h,C[b+15],j,1236535329),h=s(h,v,$,w,C[b+1],k,4129170786),w=s(w,h,v,$,C[b+6],O,3225465664),$=s($,w,h,v,C[b+11],L,643717713),v=s(v,$,w,h,C[b+0],E,3921069994),h=s(h,v,$,w,C[b+5],k,3593408605),w=s(w,h,v,$,C[b+10],O,38016083),$=s($,w,h,v,C[b+15],L,3634488961),v=s(v,$,w,h,C[b+4],E,3889429448),h=s(h,v,$,w,C[b+9],k,568446438),w=s(w,h,v,$,C[b+14],O,3275163606),$=s($,w,h,v,C[b+3],L,4107603335),v=s(v,$,w,h,C[b+8],E,1163531501),h=s(h,v,$,w,C[b+13],k,2850285829),w=s(w,h,v,$,C[b+2],O,4243563512),$=s($,w,h,v,C[b+7],L,1735328473),v=s(v,$,w,h,C[b+12],E,2368359562),h=u(h,v,$,w,C[b+5],N,4294588738),w=u(w,h,v,$,C[b+8],F,2272392833),$=u($,w,h,v,C[b+11],T,1839030562),v=u(v,$,w,h,C[b+14],z,4259657740),h=u(h,v,$,w,C[b+1],N,2763975236),w=u(w,h,v,$,C[b+4],F,1272893353),$=u($,w,h,v,C[b+7],T,4139469664),v=u(v,$,w,h,C[b+10],z,3200236656),h=u(h,v,$,w,C[b+13],N,681279174),w=u(w,h,v,$,C[b+0],F,3936430074),$=u($,w,h,v,C[b+3],T,3572445317),v=u(v,$,w,h,C[b+6],z,76029189),h=u(h,v,$,w,C[b+9],N,3654602809),w=u(w,h,v,$,C[b+12],F,3873151461),$=u($,w,h,v,C[b+15],T,530742520),v=u(v,$,w,h,C[b+2],z,3299628645),h=l(h,v,$,w,C[b+0],V,4096336452),w=l(w,h,v,$,C[b+7],_,1126891415),$=l($,w,h,v,C[b+14],B,2878612391),v=l(v,$,w,h,C[b+5],H,4237533241),h=l(h,v,$,w,C[b+12],V,1700485571),w=l(w,h,v,$,C[b+3],_,2399980690),$=l($,w,h,v,C[b+10],B,4293915773),v=l(v,$,w,h,C[b+1],H,2240044497),h=l(h,v,$,w,C[b+8],V,1873313359),w=l(w,h,v,$,C[b+15],_,4264355552),$=l($,w,h,v,C[b+6],B,2734768916),v=l(v,$,w,h,C[b+13],H,1309151649),h=l(h,v,$,w,C[b+4],V,4149444226),w=l(w,h,v,$,C[b+11],_,3174756917),$=l($,w,h,v,C[b+2],B,718787259),v=l(v,$,w,h,C[b+9],H,3951481745),h=t(h,f),v=t(v,y),$=t($,m),w=t(w,x);var I=p(h)+p(v)+p($)+p(w);return I.toLowerCase()}};